–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∫–ª–∞—Å—Å–∞—Ö —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –Ω–∞ —Ä–∞–≤–µ–Ω—Å—Ç–≤–æ —è–≤–ª—è–µ—Ç—Å—è —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ–º –Ω–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—å.
–î—Ä—É–≥–∏–º–∏ —Å–ª–æ–≤–∞–º–∏, –µ—Å–ª–∏ –≤ –∫–ª–∞—Å—Å–µ –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ, –∫–∞–∫ –±—É–¥–µ—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ ==,
–æ–Ω–æ –±—É–¥–µ—Ç —Ä–∞–≤–Ω–æ—Å–∏–ª—å–Ω–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –ø–æ–º–æ—â—å—é –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ is.

–ò–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—å –æ–±—ä–µ–∫—Ç–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é —Ñ—É–Ω–∫—Ü–∏–∏ id(). –î—Ä—É–≥–∏–º–∏ —Å–ª–æ–≤–∞–º–∏, –æ–±—ä–µ–∫—Ç—ã –∏–¥–µ–Ω—Ç–∏—á–Ω—ã, –µ—Å–ª–∏ –æ–Ω–∏ –∏–º–µ—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π
–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º—ã.

–î–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö –ø—Ä–∏–º–µ—Ä–æ–≤ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –∫–ª–∞—Å—Å Point, –æ–ø–∏—Å—ã–≤–∞—é—â–∏–π —Ç–æ—á–∫—É –Ω–∞ –ø–ª–æ—Å–∫–æ—Å—Ç–∏.

–ü—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã–π –Ω–∏–∂–µ –∫–æ–¥:

class Point:
    def __init__(self, x, y):
        self._x = x                          # –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ —Ç–æ—á–∫–∏ –ø–æ –æ—Å–∏ x
        self._y = y                          # –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ —Ç–æ—á–∫–∏ –ø–æ –æ—Å–∏ y


p1 = Point(1, 2)
p2 = Point(1, 2)

print(p1 is p1)
print(p1 == p1)

print(p1 is p2)
print(p1 == p2)
–≤—ã–≤–æ–¥–∏—Ç:

True
True
False
False
–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∫–ª–∞—Å—Å—ã —è–≤–ª—è—é—Ç—Å—è —Ö–µ—à–∏—Ä—É–µ–º—ã–º–∏ –∏ –∏–º–µ—é—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –º–∞–≥–∏—á–µ—Å–∫–∏–π –º–µ—Ç–æ–¥ __hash__(),
–∫–æ—Ç–æ—Ä—ã–π –∏ –≤—ã–∑—ã–≤–∞–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è hash().

–ü—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã–π –Ω–∏–∂–µ –∫–æ–¥:

class Point:
    def __init__(self, x, y):
        self._x = x
        self._y = y


p1 = Point(1, 2)
p2 = Point(1, 2)

print(hash(p1))
print(hash(p2))
–≤—ã–≤–æ–¥–∏—Ç (—á–∏—Å–ª–∞ –º–æ–≥—É—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è):

117433932722
117433932728
–ü–æ—Å–∫–æ–ª—å–∫—É —É —Ä–∞–≤–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ä–∞–≤–Ω—ã –∏ —Ö–µ—à-–∑–Ω–∞—á–µ–Ω–∏—è, —Ç–æ –º–∞–≥–∏—á–µ—Å–∫–∏–π –º–µ—Ç–æ–¥ __hash__() –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç
–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –æ–±—ä–µ–∫—Ç–∞. –ê –∏–º–µ–Ω–Ω–æ, –±–∞–∑–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –º–µ—Ç–æ–¥–∞ __hash__() –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ id(obj) // 16.

–ü—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã–π –Ω–∏–∂–µ –∫–æ–¥:

class Point:
    def __init__(self, x, y):
        self._x = x
        self._y = y


p1 = Point(1, 2)
p2 = Point(1, 2)

print(hash(p1), id(p1) // 16)
print(hash(p2), id(p2) // 16)
–≤—ã–≤–æ–¥–∏—Ç (—á–∏—Å–ª–∞ –º–æ–≥—É—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è):

150672559026 150672559026
150672559032 150672559032
–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∫–ª–∞—Å—Å–∞—Ö –º–µ—Ç–æ–¥—ã __eq__() –∏ __hash__() —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º,
—á—Ç–æ —ç–∫–∑–µ–º–ø–ª—è—Ä—ã —ç—Ç–∏—Ö –∫–ª–∞—Å—Å–æ–≤ —Ä–∞–≤–Ω—ã —Ç–æ–ª—å–∫–æ —Å–∞–º–∏ —Å–µ–±–µ –∏ –Ω–µ —Ä–∞–≤–Ω—ã –Ω–∏–∫–∞–∫–∏–º –¥—Ä—É–≥–∏–º –æ–±—ä–µ–∫—Ç–∞–º,
–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –Ω–∞ —Ä–∞–≤–µ–Ω—Å—Ç–≤–æ (x == y), –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—å (x is y) –∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ö–µ—à-–∑–Ω–∞—á–µ–Ω–∏–π (hash(x) == hash(y))
—è–≤–ª—è—é—Ç—Å—è —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω—ã–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏.

–ú–∞–≥–∏—á–µ—Å–∫–∏–π –º–µ—Ç–æ–¥ __hash__()
–ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∫–ª–∞—Å—Å –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –º–∞–≥–∏—á–µ—Å–∫–∏–π –º–µ—Ç–æ–¥ __eq__(), —Ç–æ –æ–Ω –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –¥–æ–ª–∂–µ–Ω –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å
–º–∞–≥–∏—á–µ—Å–∫–∏–π –º–µ—Ç–æ–¥ __hash__() —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, —á—Ç–æ–±—ã —Ä–∞–≤–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã –∏–º–µ–ª–∏ —Ä–∞–≤–Ω—ã–µ —Ö–µ—à-–∑–Ω–∞—á–µ–Ω–∏—è.

–ü—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã–π –Ω–∏–∂–µ –∫–æ–¥:

class Point:
    def __init__(self, x, y):
        self.x = x
        self.y = y

    def __eq__(self, other):
        if isinstance(other, Point):
            return self.x == other.x and self.y == other.y
        return NotImplemented

    def __hash__(self):
        return hash((self.x, self.y))


p1 = Point(1, 2)
p2 = Point(1, 2)

print(p1 == p2)
print(hash(p1) == hash(p2))
–≤—ã–≤–æ–¥–∏—Ç:

True
True

–í –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ –¥–≤–µ —Ç–æ—á–∫–∏ —Ä–∞–≤–Ω—ã –≤ —Ç–æ–º —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ —Ä–∞–≤–Ω—ã –∏—Ö —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã x –∏ y.
–•–µ—à-–∑–Ω–∞—á–µ–Ω–∏–µ —Ç–æ—á–∫–∏ –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ—Ä—Ç–µ–∂–∞, —Å–æ–¥–µ—Ä–∂–∞—â–µ–≥–æ –æ–±–µ –µ–≥–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã,
–ø–æ—ç—Ç–æ–º—É —Ä–∞–≤–Ω—ã–µ —Ç–æ—á–∫–∏ –±—É–¥—É—Ç –∏–º–µ—Ç—å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ —Ö–µ—à-–∑–Ω–∞—á–µ–Ω–∏—è.

!–í–ê–ñ–ù–û. –í—ã—á–∏—Å–ª–µ–Ω–∏–µ —Ö–µ—à-–∑–Ω–∞—á–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∑–Ω–∞—á–µ–Ω–∏–π –≤—Å–µ—Ö –µ–≥–æ –∞—Ç—Ä–∏–±—É—Ç–æ–≤ —è–≤–ª—è–µ—Ç—Å—è —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω–æ–π –ø—Ä–∞–∫—Ç–∏–∫–æ–π.

–ö–∞–∫ –±—ã–ª–æ —Å–∫–∞–∑–∞–Ω–æ –≤—ã—à–µ, —Ö–µ—à–∏—Ä—É–µ–º–æ—Å—Ç—å —Ç–µ—Å–Ω–æ —Å–≤—è–∑–∞–Ω–∞ —Å –∏–∑–º–µ–Ω—è–µ–º–æ—Å—Ç—å—é. –ü—Ä–∏–≤–µ–¥–µ–º —Ä—è–¥ –ø—Ä–∞–≤–∏–ª, –∫–æ—Ç–æ—Ä—ã–º –Ω—É–∂–Ω–æ —Å–ª–µ–¥–æ–≤–∞—Ç—å
–ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ö–µ—à–∏—Ä—É–µ–º–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∫–ª–∞—Å—Å–∞:

–ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∫–ª–∞—Å—Å –Ω–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –º–µ—Ç–æ–¥ __eq__(), —Ç–æ –æ–Ω –Ω–µ –¥–æ–ª–∂–µ–Ω –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –º–µ—Ç–æ–¥ __hash__()
–ï—Å–ª–∏ –∏–∑–º–µ–Ω—è–µ–º—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∫–ª–∞—Å—Å –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –º–µ—Ç–æ–¥ __eq__(), —Ç–æ –æ–Ω –Ω–µ –¥–æ–ª–∂–µ–Ω –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –º–µ—Ç–æ–¥ __hash__()
–ï—Å–ª–∏ –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∫–ª–∞—Å—Å –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –º–µ—Ç–æ–¥ __eq__(), —Ç–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–µ—Ç–æ–¥–∞ __hash__()
–æ—Å—Ç–∞–µ—Ç—Å—è –Ω–∞ –≤—ã–±–æ—Ä. –û–¥–Ω–∞–∫–æ –µ—Å–ª–∏ –æ–Ω –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –º–µ—Ç–æ–¥ __hash__(), —Ç–æ –æ–Ω –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º,
—á—Ç–æ–±—ã —Ä–∞–≤–Ω—ã–µ —ç–∫–∑–µ–º–ø–ª—è—Ä—ã –∏–º–µ–ª–∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ —Ö–µ—à-–∑–Ω–∞—á–µ–Ω–∏—è.

–û—Ç–¥–µ–ª—å–Ω–æ–≥–æ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏—è —Ç—Ä–µ–±—É–µ—Ç —Å–∏—Ç—É–∞—Ü–∏—è, –∫–æ–≥–¥–∞ –∫–ª–∞—Å—Å –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –º–µ—Ç–æ–¥ __eq__(),
–Ω–æ –Ω–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –º–µ—Ç–æ–¥ __hash__(). –í —Ç–∞–∫–æ–º —Å–ª—É—á–∞–µ –º–µ—Ç–æ–¥ __hash__() –±—É–¥–µ—Ç –∏–º–µ—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ None.

–ü—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã–π –Ω–∏–∂–µ –∫–æ–¥:

class Point:
    def __init__(self, x, y):
        self.x = x
        self.y = y

    def __eq__(self, other):
        if isinstance(other, Point):
            return self.x == other.x and self.y == other.y
        return NotImplemented


p = Point(1, 2)

print(Point.__hash__)
–≤—ã–≤–æ–¥–∏—Ç:

None
–ï—Å–ª–∏ –º–µ—Ç–æ–¥ __hash__() –≤ –∫–ª–∞—Å—Å–µ –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ None, —Ç–æ –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –≤—ã—á–∏—Å–ª–∏—Ç—å —Ö–µ—à-–∑–Ω–∞—á–µ–Ω–∏–µ
—ç–∫–∑–µ–º–ø–ª—è—Ä–∞ —Ç–∞–∫–æ–≥–æ –∫–ª–∞—Å—Å–∞ –±—É–¥–µ—Ç –≤–æ–∑–±—É–∂–¥–µ–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ TypeError.

 –ü—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã–π –Ω–∏–∂–µ –∫–æ–¥:

class Point:
    def __init__(self, x, y):
        self.x = x
        self.y = y

    def __eq__(self, other):
        if isinstance(other, Point):
            return self.x == other.x and self.y == other.y
        return NotImplemented


p = Point(1, 2)

print(hash(p))
–ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –≤–æ–∑–±—É–∂–¥–µ–Ω–∏—é –∏—Å–∫–ª—é—á–µ–Ω–∏—è:

TypeError: unhashable type: 'Point'
–ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∫–ª–∞—Å—Å –Ω–µ –∏–º–µ–µ—Ç —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω—ã—Ö —Ä–∞–±–æ—á–∏—Ö –º–µ—Ç–æ–¥–æ–≤ __hash__() –∏ __eq__(),
—Ç–æ –µ–≥–æ —ç–∫–∑–µ–º–ø–ª—è—Ä—ã –Ω–µ –º–æ–≥—É—Ç –±—ã—Ç—å –∫–ª—é—á–∞–º–∏ –≤ —Å–ª–æ–≤–∞—Ä—è—Ö –∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ –≤ –º–Ω–æ–∂–µ—Å—Ç–≤–∞—Ö.

–ú—ã —Ç–∞–∫–∂–µ –º–æ–∂–µ–º —è–≤–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –º–µ—Ç–æ–¥ __hash__() –∑–Ω–∞—á–µ–Ω–∏–µ–º None, —á—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å –∫–ª–∞—Å—Å –Ω–µ—Ö–µ—à–∏—Ä—É–µ–º—ã–º.

–ü—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã–π –Ω–∏–∂–µ –∫–æ–¥:

class Point:
    __hash__ = None

    def __init__(self, x, y):
        self.x = x
        self.y = y


p = Point(1, 2)

print(hash(p))
 –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –≤–æ–∑–±—É–∂–¥–µ–Ω–∏—é –∏—Å–∫–ª—é—á–µ–Ω–∏—è:

TypeError: unhashable type: 'Point'
Hash-Equal –∫–æ–Ω—Ç—Ä–∞–∫—Ç
–ú–µ—Ç–æ–¥—ã __eq__() –∏ __hash__() —Ç–µ—Å–Ω–æ —Å–≤—è–∑–∞–Ω—ã –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º, –∏ –ø—Ä–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –æ–¥–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞,
–Ω—É–∂–Ω–æ –¥—É–º–∞—Ç—å –Ω–∞–¥ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π –¥—Ä—É–≥–æ–≥–æ. –¢–∞–∫, –µ—Å–ª–∏ –¥–≤–∞ –æ–±—ä–µ–∫—Ç–∞ —è–≤–ª—è—é—Ç—Å—è —Ä–∞–≤–Ω—ã–º–∏, —Ç–æ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ä–∞–≤–Ω—ã –∏ –∏—Ö —Ö–µ—à-–∑–Ω–∞—á–µ–Ω–∏—è.
–ï—Å–ª–∏ –¥–≤–∞ –æ–±—ä–µ–∫—Ç–∞ –∏–º–µ—é—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ö–µ—à-–∑–Ω–∞—á–µ–Ω–∏—è, —Ç–æ –∏ —Å–∞–º–∏ –æ–±—ä–µ–∫—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã.

–ü—Ä–∏–º–µ—á–∞–Ω–∏—è
–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 1. –§—É–Ω–∫—Ü–∏—è hash() –æ–±—Ä–µ–∑–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –º–µ—Ç–æ–¥–æ–º __hash__(), –¥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞.
–ù–∞ 64-—Ö —Ä–∞–∑—Ä—è–¥–Ω–æ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è hash() –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç
—Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ [-2305843009213693950; 2305843009213693950].

–ü—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã–π –Ω–∏–∂–µ –∫–æ–¥:

class Point:
    def __init__(self, x, y):
        self.x = x
        self.y = y

    def __eq__(self, other):
        if isinstance(other, Point):
            return self.x == other.x and self.y == other.y
        return NotImplemented

    def __hash__(self):
        return 123456789012345678901234567890


p = Point(1, 2)

print(hash(p))
–≤—ã–≤–æ–¥–∏—Ç:

248789772095949448
–û—á–µ–≤–∏–¥–Ω–æ, —á—Ç–æ –Ω–∞–ø–µ—á–∞—Ç–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Ä–∞–≤–Ω—è–µ—Ç—Å—è 123456789012345678901234567890 % 2305843009213693951 ü§ì.

–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 2. –í —Å–∏—Ç—É–∞—Ü–∏—è—Ö, –∫–æ–≥–¥–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ –∫–ª–∞—Å—Å–∞ –∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –∏—Ö —Ö–µ—à-–∑–Ω–∞—á–µ–Ω–∏–π –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç
–Ω–∞ –æ—Å–Ω–æ–≤–µ –∞—Ç—Ä–∏–±—É—Ç–æ–≤, —É–¥–æ–±–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Å–≤–æ–π—Å—Ç–≤–æ, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–µ–µ –∫–æ—Ä—Ç–µ–∂ —Å —ç—Ç–∏–º–∏ –∞—Ç—Ä–∏–±—É—Ç–∞–º–∏.

–ü—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã–π –Ω–∏–∂–µ –∫–æ–¥:

class Point:
    def __init__(self, x, y, z):
        self.x = x
        self.y = y
        self.z = z

    def __eq__(self, other):
        if isinstance(other, Point):
            return self._fields == other._fields
        return NotImplemented

    def __hash__(self):
        return hash(self._fields)

    @property
    def _fields(self):
        return self.x, self.y, self.z


p1 = Point(1, 2, 3)
p2 = Point(1, 2, 3)
p3 = Point(4, 5, 6)

print(p1 == p2)
print(p1 == p3)
print(hash(p1) == hash(p2))
print(hash(p1) == hash(p3))
–≤—ã–≤–æ–¥–∏—Ç:

True
False
True
False